<mat-accordion class="filter-accordion">
  <!-- Genre Section -->
  <br>

 <!-- Instrument Section -->
<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>Instruments</mat-panel-title>
  </mat-expansion-panel-header>

  <div class="checkbox-list">
    <mat-checkbox
      *ngFor="let instrument of instruments"
      [(ngModel)]="instrument.selected">
      {{ instrument.name }}
    </mat-checkbox>
  </div>
</mat-expansion-panel>

  <!-- Region Section -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Tuition Region</mat-panel-title>
    </mat-expansion-panel-header>

    <div class="search-container">
      <mat-form-field appearance="outline" class="form-group">
        <mat-label>Tuition Region</mat-label>
        <input
          matInput
          type="text"
          [(ngModel)]="regionSearchQuery"
          (input)="onRegionSearch()"
          name="tuitionRegion"
          placeholder="Search for a region"
        />
      </mat-form-field>
      <mat-list *ngIf="regionSuggestions.length > 0">
        <mat-list-item *ngFor="let region of regionSuggestions" (click)="selectRegion(region)">
          {{ region.name }}
        </mat-list-item>
      </mat-list>
      <p *ngIf="selectedRegion">Selected: {{ selectedRegion.name }}</p>
      <button mat-button color="warn" (click)="clearSelection()">Clear Selection</button>
    </div>
  </mat-expansion-panel>

  <!-- Price Section -->
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Price Range</mat-panel-title>
    </mat-expansion-panel-header>

      <div class="price-inputs">
        <mat-form-field appearance="outline">
          <mat-label>Min Price</mat-label>
          <input
            matInput
            type="number"
            [(ngModel)]="priceRange.min"
            [min]="minPrice"
            [max]="priceRange.max"
            (change)="onPriceChange()">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Max Price</mat-label>
          <input
            matInput
            type="number"
            [(ngModel)]="priceRange.max"
            [min]="priceRange.min"
            [max]="maxPrice"
            (change)="onPriceChange()">
        </mat-form-field>
      </div>
  </mat-expansion-panel>
    <!-- Rating Section -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Rating</mat-panel-title>
      </mat-expansion-panel-header>

      <div class="rating-filter">
        <!-- Display the selected rating -->
        <div class="selected-rating" *ngIf="selectedRating > 0">
          <mat-icon *ngFor="let star of getStars(selectedRating)">
            <mat-panel-title> {{ star }} </mat-panel-title>
          </mat-icon>
          ({{ selectedRating }} Star{{ selectedRating > 1 ? 's' : '' }})
        </div>

        <!-- Rating Options -->
        <div
          class="rating-option"
          *ngFor="let rating of ratings"
          (click)="selectRating(rating.value)">
          <mat-icon *ngFor="let star of getStars(rating.value)">
            {{ star }}
          </mat-icon>
          <span>{{ rating.label }}</span>
        </div>
      </div>

      <!-- Clear Button -->
      <button mat-button (click)="clearRating()">Clear</button>
    </mat-expansion-panel>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Genres</mat-panel-title>
    </mat-expansion-panel-header>

    <div class="checkbox-list">
      <mat-checkbox
        *ngFor="let genre of genres"
        [(ngModel)]="genre.selected">
        {{ genre.name }}
      </mat-checkbox>
    </div>
  </mat-expansion-panel>
</mat-accordion>




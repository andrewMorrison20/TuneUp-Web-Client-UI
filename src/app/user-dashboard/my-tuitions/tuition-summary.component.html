<mat-card class="tuition-summary-container">
  <mat-card-title>Tuition Summary For {{profile.displayName}}</mat-card-title>

  <div class="tuition-details">
    <span class="profile-type-chip mat-chip mat-chip-outline"> Tuition Start Date : {{ tuitionDetails.startDate }}</span>
    <br>
    <br>
    <span class="profile-type-chip mat-chip mat-chip-outline" > Next Lesson:  {{ tuitionDetails.nextLessonDate }}</span>
    <br>
    <br>
    <span class="profile-type-chip mat-chip mat-chip-outline" > Active </span>
  </div>

  <!-- Calendar Placeholder -->
  <div class="calendar-placeholder">
    <mat-card-title>Lesson Schedule</mat-card-title>
        <button *ngIf="isTimeGridView" mat-raised-button color="primary" (click)="switchToMonthView()">
          Month View
        </button>
        <br><br>
        <full-calendar #calendar [options]="calendarOptions"></full-calendar>
  </div>

  <!-- Links -->
  <div class="tuition-links">
    <button mat-raised-button color="primary" routerLink="/payments">Go to Payments</button>
    <button mat-raised-button color="accent" routerLink="/chat">Go to Chat</button>
  </div>

  <!-- Profile Summaries -->
  <div class="profiles-container">
    <!-- Student Profile Card -->
    <mat-card class="profile-card">
      <img [src]="profile?.profilePicture?.url || 'https://storage.googleapis.com/download/storage/v1/b/tuneup_profile_images/o/79a88d6b-8196-49cf-9cde-d6d4d3bf10fd-defaultProfilePicture.jpg?generation=1735034744997677&alt=media'"
           alt="Profile Picture" class="profile-picture">
      <h3>{{ profile.displayName }}</h3>
      <p *ngIf="profile.tuitionRegion?.name">Region: {{ profile.tuitionRegion.name }}</p>
      <button mat-raised-button color="primary" routerLink="/profile/student">View Profile</button>
    </mat-card>

    <!-- Tutor Profile Card -->
    <mat-card class="profile-card">
      <img [src]="userProfile?.profilePicture?.url || 'https://storage.googleapis.com/download/storage/v1/b/tuneup_profile_images/o/79a88d6b-8196-49cf-9cde-d6d4d3bf10fd-defaultProfilePicture.jpg?generation=1735034744997677&alt=media'"
           alt="Profile Picture" class="profile-picture">
      <h3>{{ userProfile.displayName }}</h3>
      <p *ngIf="userProfile.tuitionRegion?.name">Region: {{ userProfile.tuitionRegion.name }}</p>
      <button mat-raised-button color="primary" routerLink="/profile/tutor">View Profile</button>
    </mat-card>
  </div>
  <br>
  <div class="back-button-container">

    <button mat-raised-button color="warn" (click)="goBackToTuitions()"> <mat-icon>arrow_back</mat-icon> Back to All Tuitions</button>
  </div>
</mat-card>
